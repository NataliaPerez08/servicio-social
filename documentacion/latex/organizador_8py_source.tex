\doxysection{organizador.\+py}
\label{organizador_8py_source}\index{Aplicacion/organizador.py@{Aplicacion/organizador.py}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00002\ \textcolor{stringliteral}{Este\ modulo\ contiene\ la\ vista\ de\ la\ aplicacion,\ la\ cual\ permite\ buscar\ espectros\ en\ la\ base\ de\ datos}}
\DoxyCodeLine{00003\ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00004\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{00005\ \textcolor{keyword}{from}\ PyQt5\ \textcolor{keyword}{import}\ QtCore,\ QtWidgets}
\DoxyCodeLine{00006\ \textcolor{keyword}{from}\ PyQt5.QtWidgets\ \textcolor{keyword}{import}\ QMainWindow,\ QLabel,\ QWidget,\ QScrollArea,\ QListWidget,\ QListWidgetItem,\ QGridLayout,QVBoxLayout}
\DoxyCodeLine{00007\ \textcolor{keyword}{from}\ PyQt5.QtCore\ \textcolor{keyword}{import}\ QSize}
\DoxyCodeLine{00008\ \textcolor{keyword}{from}\ PyQt5\ \textcolor{keyword}{import}\ QtGui}
\DoxyCodeLine{00009\ \textcolor{keyword}{import}\ matplotlib}
\DoxyCodeLine{00010\ \textcolor{keyword}{from}\ matplotlib.pyplot\ \textcolor{keyword}{import}\ grid}
\DoxyCodeLine{00011\ \textcolor{keyword}{from}\ control\ \textcolor{keyword}{import}\ controlador\_busqueda}
\DoxyCodeLine{00012\ \textcolor{keyword}{from}\ controlSpec\ \textcolor{keyword}{import}\ imprimir\_spec,get\_df}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{from}\ matplotlib.backends.backend\_qt5agg\ \textcolor{keyword}{import}\ FigureCanvasQTAgg}
\DoxyCodeLine{00015\ \textcolor{keyword}{from}\ matplotlib.figure\ \textcolor{keyword}{import}\ Figure}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{\#\ Vista\ de\ la\ aplicacion}}
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }HelloWindow(QMainWindow):}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00020\ \textcolor{stringliteral}{\ \ \ \ Clase\ encargada\ de\ la\ vista\ de\ la\ aplicacion}}
\DoxyCodeLine{00021\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self):}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00025\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Método\ encargado\ de\ inicializar\ la\ vista\ de\ la\ aplicacion}}
\DoxyCodeLine{00026\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ QMainWindow.\_\_init\_\_(self)}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Lista\ de\ filtros\ aplicados"{}"{}"{}}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ self.filtros\ =\ \{\textcolor{stringliteral}{'Carpeta'}:\ \textcolor{stringliteral}{''},\textcolor{stringliteral}{'Tabla'}:\ \textcolor{stringliteral}{''},\textcolor{stringliteral}{'Espectro'}:\ \textcolor{stringliteral}{''},\textcolor{stringliteral}{'Pigmento'}:\ \textcolor{stringliteral}{''},\textcolor{stringliteral}{'Aglutinante'}:\ \textcolor{stringliteral}{''},\textcolor{stringliteral}{'Base\ de\ preparacion'}:\ \textcolor{stringliteral}{''}\}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ self.setMinimumSize(QSize(640,\ 480))\ \ \ \ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ self.setWindowTitle(\textcolor{stringliteral}{"{}Registros\ de\ Espectros\ FORS"{}})\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ central\_widget\ =\ QWidget(self)\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ self.setCentralWidget(central\_widget)\ \ \ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ box\_layout\ =\ QVBoxLayout(self)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ central\_widget.setLayout(box\_layout)}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ \ Selecciona\ entre\ los\ filtros\ disponibles}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ lfiltro\ =\ QLabel(\textcolor{stringliteral}{"{}Buscar\ por:\ "{}},\ self)}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ lfiltro.setAlignment(QtCore.Qt.AlignTop)}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ box\_layout.addWidget(lfiltro)}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Selecciona\ entre\ los\ filtros\ disponibles}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ cbfiltro\ =\ QtWidgets.QComboBox(self)}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Carpeta"{}})}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Tabla"{}})}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Espectro"{}})}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Pigmento"{}})}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Aglutinante"{}})}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ cbfiltro.addItem(\textcolor{stringliteral}{"{}Base\ de\ preparacion"{}})}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ lfiltro.setAlignment(QtCore.Qt.AlignTop)}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ box\_layout.addWidget(cbfiltro)}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Para\ cada\ filtro\ se\ debe\ crear\ un\ campo\ de\ texto\ para\ ingresar\ el\ filtro}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ y\ un\ boton\ para\ agregarlo\ a\ la\ lista\ de\ filtros}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ crea\ el\ campo\ de\ texto}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ self.textbox\ =\ QtWidgets.QLineEdit(self)}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ box\_layout.addWidget(self.textbox)}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ crea\ el\ boton}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ self.button\ =\ QtWidgets.QPushButton(\textcolor{stringliteral}{'Agregar'},\ self)}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ box\_layout.addWidget(self.button)}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ conecta\ el\ boton\ con\ la\ funcion\ que\ agrega\ el\ filtro}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Presenta\ los\ filtros\ aplicados}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ self.lfiltros\ =\ QtWidgets.QLabel(\textcolor{stringliteral}{"{}Filtros:\ "{}})}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ self.lfiltros.setAlignment(QtCore.Qt.AlignTop)}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ box\_layout.addWidget(self.lfiltros)}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ self.button.clicked.connect(\textcolor{keyword}{lambda}:\ self.agregarFiltro(cbfiltro.currentText(),\ self.textbox.text()))}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Imprime\ bonito\ los\ filtros\ aplicados}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ self.button.clicked.connect(\textcolor{keyword}{lambda}:\ self.lfiltros.setText(\textcolor{stringliteral}{"{}Filtros:\ "{}}+str(self.filtros).replace(\textcolor{stringliteral}{"{}\{"{}},\textcolor{stringliteral}{"{}"{}}).replace(\textcolor{stringliteral}{"{}\}"{}},\textcolor{stringliteral}{"{}"{}}).replace(\textcolor{stringliteral}{"{}'"{}},\textcolor{stringliteral}{"{}"{}}).replace(\textcolor{stringliteral}{"{},"{}},\textcolor{stringliteral}{"{}\(\backslash\)n"{}})))}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ scroll\ =\ QScrollArea()}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ scroll.adjustSize()}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ scroll.setWidgetResizable(\textcolor{keyword}{True})}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ scroll\_content\ =\ QWidget(scroll)}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ scroll\_layout\ =\ QVBoxLayout(scroll\_content)}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ scroll\_content.setLayout(scroll\_layout)}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ scroll.setWidget(scroll\_content)}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ crea\ el\ boton\ para\ buscar}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ self.button\ =\ QtWidgets.QPushButton(\textcolor{stringliteral}{'Buscar'},\ self)}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ box\_layout.addWidget(self.button)}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ conecta\ el\ boton\ con\ la\ funcion\ que\ busca}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ self.button.clicked.connect(\textcolor{keyword}{lambda}:\ self.buscar(scroll))}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ box\_layout.addWidget(scroll)}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{def\ }buscar(self,\ scroll):}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00094\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Método\ encargado\ de\ buscar\ el\ espectro\ en\ la\ base\ de\ datos\ usando\ el\ buscador}}
\DoxyCodeLine{00095\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ @param\ scroll:\ scroll\ para\ mostrar\ los\ resultados}}
\DoxyCodeLine{00096\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ resultados\ =\ controlador\_busqueda(self.filtros)}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ layout\ and\ add\ widgets}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ box\_widget\ =\ QListWidget()}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ box\_layout2\ =\ QVBoxLayout()}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ box\_widget.setLayout(box\_layout2)}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(resultados)):}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ limpia\ resultado}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ resultado\ =\ str(resultados[i]).replace(\textcolor{stringliteral}{"{}("{}},\textcolor{stringliteral}{"{}"{}}).replace(\textcolor{stringliteral}{"{})"{}},\textcolor{stringliteral}{"{}"{}}).replace(\textcolor{stringliteral}{"{}'"{}},\textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ qitem\ =\ QListWidgetItem(resultado)}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ box\_widget.addItem(qitem)}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ scroll.setWidget(box\_widget)}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ ventanas\ =\ []}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ conecta\ el\ boton\ con\ la\ funcion\ que\ selecciona\ el\ espectro}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ box\_widget.itemClicked.connect(\textcolor{keyword}{lambda}:\ self.seleccionar(box\_widget.currentItem().text(),ventanas))}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{def\ }agregarFiltro(self,\ llave,\ text):}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00115\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Método\ encargado\ de\ agregar\ un\ filtro\ a\ la\ lista\ de\ filtros}}
\DoxyCodeLine{00116\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ @param\ llave:\ llave\ del\ filtro}}
\DoxyCodeLine{00117\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ @param\ text:\ texto\ del\ filtro}}
\DoxyCodeLine{00118\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ @return:\ lista\ de\ filtros}}
\DoxyCodeLine{00119\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ self.filtros.update(\{llave:\ text\})}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.filtros}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{def\ }seleccionar(self,\ espectro,ventanas):}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00125\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ Método\ encargado\ de\ seleccionar\ el\ espectro\ y\ mostrarlo}}
\DoxyCodeLine{00126\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ espectro:\ espectro\ seleccionado}}
\DoxyCodeLine{00127\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ @param\ ventanas:\ lista\ de\ ventanas}}
\DoxyCodeLine{00128\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Seleccionado:\ "{}}+espectro+\textcolor{stringliteral}{"{}\ para\ mostrar"{}})}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Crea\ la\ ventana\ para\ mostrar\ el\ espectro}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ self.ventana\ =\ QtWidgets.QWidget()}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ self.ventana.setWindowTitle(\textcolor{stringliteral}{"{}Espectro"{}})}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ self.ventana.setMinimumSize(QSize(640,\ 480))}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ self.ventana.move(100,100)}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ ventanas.append(self.ventana)}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Imprime\ info\ el\ espectro}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ box\_layout2\ =\ QVBoxLayout(self.ventana)}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ self.ventana.setLayout(box\_layout2)}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ split\_espectro\ =\ espectro.split(\textcolor{stringliteral}{"{},"{}})}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ carpeta\ =\ split\_espectro[0]}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ tabla\ =\ split\_espectro[1].strip()\textcolor{comment}{\#.replace("{}\ "{},"{}"{})}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ espectro\_name\ =\ split\_espectro[2].strip()\textcolor{comment}{\#.replace("{}\ "{},"{}"{})}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ pigmento\ =\ split\_espectro[3]}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ aglutinante\ =\ split\_espectro[4]}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ base\ =\ split\_espectro[5]}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Carpeta:\ "{}}+carpeta))}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Tabla:\ "{}}+tabla))}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Espectro:\ "{}}+espectro\_name))}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Pigmento:\ "{}}+pigmento))}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Aglutinante:\ "{}}+aglutinante))}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(QtWidgets.QLabel(\textcolor{stringliteral}{"{}Base\ de\ preparacion:\ "{}}+base))}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Plot\ espectro}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#get\_df(carpeta,tabla,espectro\_name)}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#imprimir\_spec(carpeta,tabla,espectro\_name)}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Include\ the\ matplotlib\ figure}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ self.figure\ =\ Figure()}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ self.canvas\ =\ FigureCanvasQTAgg(self.figure)}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(self.canvas)}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ self.ax\ =\ self.figure.add\_subplot(111)}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ df\ =\ get\_df(carpeta,tabla,espectro\_name)}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ x=df.columns[0]}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ y=df.columns[1]}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ dev\_x\ =\ df[x].to\_numpy()}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ dev\_y\ =\ df[y].to\_numpy()}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ self.ax.plot(dev\_x,\ dev\_y)}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ self.ax.set\_title(\textcolor{stringliteral}{"{}Espectro\ "{}}+espectro\_name)}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ self.ax.set\_ylabel(\textcolor{stringliteral}{"{}Reflectancia"{}})}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ self.ax.grid()}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ self.canvas.draw()}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ self.ventana.show()}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Crear\ el\ boton\ para\ combinar\ ventanas}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ self.button\ =\ QtWidgets.QPushButton(\textcolor{stringliteral}{'Combinar\ ventanas'},\ self.ventana)}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ box\_layout2.addWidget(self.button)}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Se\ conecta\ el\ boton\ con\ la\ funcion\ que\ combina\ ventanas}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ self.button.clicked.connect(\textcolor{keyword}{lambda}:\ combinar\_ventanas(self,ventanas))}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \textcolor{keyword}{def\ }combinar\_ventanas(self,ventanas):}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ }}
\DoxyCodeLine{00183\ \textcolor{stringliteral}{\ \ \ \ Método\ encargado\ de\ combinar\ las\ ventanas\ de\ los\ espectros\ seleccionados\ }}
\DoxyCodeLine{00184\ \textcolor{stringliteral}{\ \ \ \ @param\ self:\ vista\ de\ la\ aplicacion}}
\DoxyCodeLine{00185\ \textcolor{stringliteral}{\ \ \ \ @param\ ventanas:\ lista\ de\ ventanas}}
\DoxyCodeLine{00186\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00187\ \ \ \ \ eje\_X\ =\ []}
\DoxyCodeLine{00188\ \ \ \ \ lista\_ys\ =\ []}
\DoxyCodeLine{00189\ \ \ \ \ labels\ =\ []}
\DoxyCodeLine{00190\ \ \ \ \ espectros\ =\ []}
\DoxyCodeLine{00191\ \ \ \ \ print(\textcolor{stringliteral}{"{}Combinando\ ventanas"{}})}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(ventanas)):}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ hijos\ =\ ventanas[i].children()}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ range(len(hijos)):}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ tipo\_hijo\ =\ type(hijos[j])}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Verifica\ que\ el\ hijo\ sea\ un\ matplotlib}}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ tipo\_hijo\ ==\ matplotlib.backends.backend\_qtagg.FigureCanvasQTAgg:}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Obtiene\ la\ figura}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fig\ =\ hijos[j].figure}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Obtiene\ el\ eje}}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ax\ =\ fig.axes[0]}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Obtiene\ los\ datos}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ line\ =\ ax.lines[0]}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Obtiene\ los\ datos\ de\ x}}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ line.get\_xdata()}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Obtiene\ los\ datos\ de\ y}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\ =\ line.get\_ydata()}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ eje\_X\ =\ x}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lista\_ys.append(y)}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Verifica\ que\ el\ hijo\ sea\ un\ label\ para\ obtener\ el\ nombre\ del\ espectro}}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ tipo\_hijo\ ==\ QtWidgets.QLabel:}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ text\ =\ hijos[j].text()}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}Espectro"{}}\ \textcolor{keywordflow}{in}\ text:}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ espectros.append(text)}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ labels.append(hijos[j].text())}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ ventanas[i].close()\ }
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{comment}{\#\ Crea\ un\ matplotlib\ para\ combinar\ los\ espectros}}
\DoxyCodeLine{00220\ \ \ \ \ self.ventana\ =\ QtWidgets.QWidget()}
\DoxyCodeLine{00221\ \ \ \ \ self.ventana.move(100,100)}
\DoxyCodeLine{00222\ \ \ \ \ self.ventana.setWindowTitle(\textcolor{stringliteral}{"{}Espectro"{}})}
\DoxyCodeLine{00223\ \ \ \ \ self.ventana.setMinimumSize(QSize(640,\ 480))}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ box\_layout2\ =\ QGridLayout(self.ventana)}
\DoxyCodeLine{00226\ \ \ \ \ self.ventana.setLayout(box\_layout2)}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ self.info\ =\ QtWidgets.QWidget()}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{comment}{\#\ Crear\ la\ ventana\ para\ mostrar\ la\ informacion\ de\ los\ espectros\ ligeramente\ a\ la\ izquierda\ de\ la\ ventana\ de\ combinacion}}
\DoxyCodeLine{00230\ \ \ \ \ self.info.move(100,600)}
\DoxyCodeLine{00231\ \ \ \ \ self.info.setLayout(QGridLayout())}
\DoxyCodeLine{00232\ \ \ \ \ self.info.setWindowTitle(\textcolor{stringliteral}{"{}Información\ espectros"{}})}
\DoxyCodeLine{00233\ \ \ \ \ self.info.setMinimumSize(QSize(440,\ 380))}
\DoxyCodeLine{00234\ \ \ \ \ }
\DoxyCodeLine{00235\ \ \ \ \ scroll\ =\ QScrollArea()}
\DoxyCodeLine{00236\ \ \ \ \ scroll.adjustSize()}
\DoxyCodeLine{00237\ \ \ \ \ scroll.setWidgetResizable(\textcolor{keyword}{True})}
\DoxyCodeLine{00238\ \ \ \ \ scroll\_content\ =\ QWidget(scroll)}
\DoxyCodeLine{00239\ \ \ \ \ }
\DoxyCodeLine{00240\ \ \ \ \ scroll.setWidget(scroll\_content)}
\DoxyCodeLine{00241\ \ \ \ \ self.info.layout().addWidget(scroll)}
\DoxyCodeLine{00242\ \ \ \ \ box\_widget\ =\ QListWidget()}
\DoxyCodeLine{00243\ \ \ \ \ box\_layout2\ =\ QVBoxLayout()}
\DoxyCodeLine{00244\ \ \ \ \ box\_widget.setLayout(box\_layout2)}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(labels)):}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ qitem\ =\ QListWidgetItem(labels[i])}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}Espectro"{}}\ \textcolor{keywordflow}{in}\ labels[i]:}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ qitem.setBackground(QtGui.QColor(\textcolor{stringliteral}{"{}yellow"{}}))}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ box\_widget.addItem(qitem)}
\DoxyCodeLine{00251\ \ \ \ \ scroll.setWidget(box\_widget)}
\DoxyCodeLine{00252\ \ \ \ \ }
\DoxyCodeLine{00253\ \ \ \ \ self.info.show()}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ self.ventana.show()}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ print(\textcolor{stringliteral}{"{}Creando\ matplotlib"{}})\ }
\DoxyCodeLine{00258\ \ \ \ \ figure\ =\ Figure()}
\DoxyCodeLine{00259\ \ \ \ \ canvas\ =\ FigureCanvasQTAgg(figure)}
\DoxyCodeLine{00260\ \ \ \ \ self.ventana.layout().addWidget(canvas)}
\DoxyCodeLine{00261\ \ \ \ \ ax\ =\ figure.add\_subplot(111)}
\DoxyCodeLine{00262\ \ \ \ \ ax.set\_title(\textcolor{stringliteral}{"{}Espectro\ combinado"{}})}
\DoxyCodeLine{00263\ \ \ \ \ ax.set\_ylabel(\textcolor{stringliteral}{"{}Reflectancia"{}})}
\DoxyCodeLine{00264\ \ \ \ \ ax.grid()}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{comment}{\#\ Combina\ los\ espectros}}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordflow}{for}\ j\ \textcolor{keywordflow}{in}\ range(len(lista\_ys)):}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ ax.plot(eje\_X,\ lista\_ys[j])}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ ax.legend(espectros)}
\DoxyCodeLine{00269\ \ \ \ \ canvas.draw()}
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{comment}{\#\ Al\ cerrar\ la\ ventana\ se\ limpia\ la\ lista\ de\ ventanas\ y\ se\ cierra\ la\ ventana\ de\ informacion}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ self.ventana.destroyed.connect(\textcolor{keyword}{lambda}:\ ventanas.clear())}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordflow}{if}\ self.ventana.destroyed\ \textcolor{keywordflow}{and}\ \textcolor{keywordflow}{not}\ self.info.destroyed:}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ self.info.close()}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{00277\ \ \ \ \ app\ =\ QtWidgets.QApplication(sys.argv)}
\DoxyCodeLine{00278\ \ \ \ \ main\_win\ =\ HelloWindow()}
\DoxyCodeLine{00279\ \ \ \ \ main\_win.show()}
\DoxyCodeLine{00280\ \ \ \ \ sys.exit(\ app.exec\_()\ )}

\end{DoxyCode}
